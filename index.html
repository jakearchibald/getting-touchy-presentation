<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Getting touchy - an introduction to touch and pointer events / Patrick H. Lauke</title>
    <link rel="stylesheet" href="shower/themes/redux/styles/screen.css">
    <link rel="stylesheet" href="shower/themes/redux/styles/overrides.css">
    <link rel="stylesheet" href="highlight/styles/sunburst.css">
    <style>
        #yougotthetouch.slide { background-color: #000; }
        .strike { text-decoration: line-through; }
    </style>
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="shower list">
<header class="caption">
    <h1>Getting touchy</h1>
    <p>An introduction to touch and pointer events</p>
</header>

<!-- -->

<section class="slide cover title" id="Cover"><div>
    <div class="titlestrap">
        <h2>Getting <strong>touchy</strong></h2>
        <p>An introduction to <strong>touch and pointer</strong> events</p>
    </div>
    <p class="info">Patrick H. Lauke / TPAC 2016 / 19 September 2016</p>
    <img src="pictures/backgrounds/background-cover.jpg" alt="" class="cover">
</div></section>

<!-- -->

<section class="slide listing"><div>
    <h2>about me...</h2>
    <ul>
    <li>senior accessibility consultant at <a target="_blank" href="https://www.paciellogroup.com/">The Paciello Group</a></li>
    <li>previously developer relations at <a target="_blank" href="http://www.opera.com/">Opera</a></li>
    <li>co-editor <a target="_blank" href="https://w3c.github.io/touch-events/">Touch Events Level 2</a></li>
    <li>WG chair and co-editor <a target="_blank" href="https://w3c.github.io/pointerevents/">Pointer Events Level 2</a></li>
    </ul>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/github-patrickhlauke-getting-touchy.png" alt="">
    <p><a target="_blank" href="https://github.com/patrickhlauke/getting-touchy-presentation">github.com/patrickhlauke/getting-touchy-presentation</a></p>
    <p>"evergreen" expanded version of this presentation<br><small>(and branches for specific conferences)</small></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>“how can I make my website<br>work on <strong>touch devices</strong>?”</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>you <strong>don't</strong> need <strong>touch events</strong><br>browsers <strong>emulate</strong> regular <strong>mouse events</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/ios7/event-listener-mouse-before.png" alt="">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html">patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/ios7/event-listener-mouse-after.png" alt="">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html">patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
    <h2>compatibility mouse events</h2>
    <pre><code class="json">(mouseenter) > mouseover > mousemove* > mousedown >
(focus) > mouseup > click</code></pre>
    <p><small>* only a single “sacrificial” <code>mousemove</code> event fired</small></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>emulation works,<br>but is <strong>limiting</strong>/<strong>problematic</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/win8/chrome-particle-party.png" alt="">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/particle/2">patrickhlauke.github.io/touch/particle/2</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>“we need to go deeper...”</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
    <h2>touch events</h2>
    <p>introduced by Apple, adopted in Chrome/Firefox/Opera</p>
    <p><small>(and belatedly IE/Edge – more on that later)</small></p>
    <p><a target="_blank" href="http://www.w3.org/TR/touch-events">www.w3.org/TR/touch-events</a></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/caniuse-touch-events-current.png" alt="">
    <p><a target="_blank" href="http://caniuse.com/#search=touch%20events">caniuse.com: Can I use <strong>touch events</strong>?</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
    <p><code class="json">touchstart<br>
touchmove<br>
touchend<br>
touchcancel</code></p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>doubling up handling of <code>mousemove</code> and <code>touchmove</code></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">var posX, posY;
...
function positionHandler(e) {
    posX = <mark>e.clientX</mark>;
    posY = <mark>e.clientY</mark>;
}
...
canvas.addEventListener('<mark>mousemove</mark>', positionHandler, false);</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">var posX, posY;
...
function positionHandler(e) {
    posX = <mark>e.clientX</mark>;
    posY = <mark>e.clientY</mark>;
}
...
canvas.addEventListener('<mark>mousemove</mark>', positionHandler, false);
canvas.addEventListener('<mark>touchmove</mark>', positionHandler, false);

/* <mark>but this won't work for touch...</mark> */
</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface MouseEvent : UIEvent {
    readonly attribute long <mark>screenX</mark>;
    readonly attribute long <mark>screenY</mark>;
    readonly attribute long <mark>clientX</mark>;
    readonly attribute long <mark>clientY</mark>;
    readonly attribute boolean ctrlKey;
    readonly attribute boolean shiftKey;
    readonly attribute boolean altKey;
    readonly attribute boolean metaKey;
    readonly attribute unsigned short button;
    readonly attribute EventTarget relatedTarget;
    // [DOM4] UI Events
    readonly attribute unsigned short buttons;
};</code></pre>
<p><a target="_blank" href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-MouseEvent">www.w3.org/TR/DOM-Level-2-Events/events.html#Events-MouseEvent</a></p><p><a target="_blank" href="https://www.w3.org/TR/uievents/#events-mouseevents">www.w3.org/TR/uievents/#events-mouseevents</p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">partial interface MouseEvent {
    readonly attribute double screenX;
    readonly attribute double screenY;
    readonly attribute double <mark>pageX</mark>;
    readonly attribute double <mark>pageY</mark>;
    readonly attribute double clientX;
    readonly attribute double clientY;
    readonly attribute double <mark>x</mark>;
    readonly attribute double <mark>y</mark>;
    readonly attribute double <mark>offsetX</mark>;
    readonly attribute double <mark>offsetY</mark>;
};</code></pre>
<p><a target="_blank" href="http://www.w3.org/TR/cssom-view/#extensions-to-the-mouseevent-interface">www.w3.org/TR/cssom-view/#extensions-to-the-mouseevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface TouchEvent : UIEvent {
    readonly attribute <mark>TouchList touches</mark>;
    readonly attribute <mark>TouchList targetTouches</mark>;
    readonly attribute <mark>TouchList changedTouches</mark>;
    readonly attribute boolean altKey;
    readonly attribute boolean metaKey;
    readonly attribute boolean ctrlKey;
    readonly attribute boolean shiftKey;
};</code></pre>
<p><a target="_blank" href="http://www.w3.org/TR/touch-events/#touchevent-interface">www.w3.org/TR/touch-events/#touchevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface Touch {
    readonly attribute long identifier;
    readonly attribute EventTarget target;
    readonly attribute long <mark>screenX</mark>;
    readonly attribute long <mark>screenY</mark>;
    readonly attribute long <mark>clientX</mark>;
    readonly attribute long <mark>clientY</mark>;
    readonly attribute long <mark>pageX</mark>;
    readonly attribute long <mark>pageY</mark>;
};</code></pre>
<p><a target="_blank" href="http://www.w3.org/TR/touch-events/#touch-interface">www.w3.org/TR/touch-events/#touch-interface</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
    <h2><code>TouchList</code> differences</h2>
    <dl>
    <dt><code>touches</code></dt>
    <dd>all touch points on screen</dd>
    <dt><code>targetTouches</code></dt>
    <dd>all touch points that <em>started</em> on the element</dd>
    <dt><code>changedTouches</code></dt>
    <dd>touch points that caused the event to fire</dd>
    </dl>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">var posX, posY;
...
function positionHandler(e) {
    <mark>if ((e.clientX)&amp;&amp;(e.clientY))</mark> {
        posX = e.clientX; posY = e.clientY;
    } <mark>else if (e.targetTouches)</mark> {
        posX = e.targetTouches[0].clientX;
        posY = e.targetTouches[0].clientY;
        <mark>e.preventDefault()</mark>;
    }
}
...
canvas.addEventListener('mousemove', positionHandler, false );
canvas.addEventListener('touchmove', positionHandler, false );</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/android/chrome-particle-party-mouse-and-touch.png" alt="Particle party with touch working correctly with moving finger on Android device">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/particle/3">patrickhlauke.github.io/touch/particle/3</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/paranoid.png" alt="">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/paranoid_0.5/">patrickhlauke.github.io/touch/paranoid_0.5</a></p>
    <p><a target="_blank" href="http://www.splintered.co.uk/experiments/archives/paranoid_0.5">www.splintered.co.uk/experiments/archives/paranoid_0.5</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>why stop at a single point?<br><strong>multitouch</strong> support</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface TouchEvent : UIEvent {
    readonly attribute <mark>TouchList touches</mark>;
    readonly attribute <mark>TouchList targetTouches</mark>;
    readonly attribute <mark>TouchList changedTouches</mark>;
    readonly attribute boolean altKey;
    readonly attribute boolean metaKey;
    readonly attribute boolean ctrlKey;
    readonly attribute boolean shiftKey;
};</code></pre>
<p><a target="_blank" href="http://www.w3.org/TR/touch-events/#touchevent-interface">www.w3.org/TR/touch-events/#touchevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* iterate over touch array */

for (i=0; i&lt;<mark>e.targetTouches</mark>.length; i++) {
    ...
    posX = <mark>e.targetTouches[i].clientX</mark>;
    posY = <mark>e.targetTouches[i].clientY</mark>;
    ...
}</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/ios7/ipad-picture-organiser.png" alt="Picture Organiser demo on iOS7/iPad, with four images freely moved/scaled/rotated">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/picture-organiser">patrickhlauke.github.io/touch/picture-organiser</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>Touch Events extensions...</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/w3c-touch-events-extensions.png" alt="">
    <p><a target="_blank" href="https://dvcs.w3.org/hg/webevents/raw-file/default/touchevents.html">W3C Touch Events Extensions WG Note</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Touch Events – contact geometry */

partial interface Touch {
  readonly  attribute float <mark>radiusX</mark>;
  readonly  attribute float <mark>radiusY</mark>;
  readonly  attribute float <mark>rotationAngle</mark>;
  readonly  attribute float force;
};</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/android/nexus10-touch-events-radiusx-radiusy-rotationangle-firefox.png" alt="">
    <p><a target="_blank" href="http://patrickhlauke.github.io/touch/tracker/tracker-radius-rotationangle.html">patrickhlauke.github.io/touch/tracker/tracker-radius-rotationangle.html</a></p>
    <p><a target="_blank" href="https://www.youtube.com/watch?v=fnSp8VFf-b8">YouTube: Touch Events: radiusX, radiusY and rotationAngle</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Touch Events – force */

partial interface Touch {
  readonly  attribute float radiusX;
  readonly  attribute float radiusY;
  readonly  attribute float rotationAngle;
  readonly  attribute float <mark>force</mark>;
};</code></pre>
 <p><code>force</code>: value in range <code>0</code> – <code>1</code>. if no hardware support <code>0</code><br><small>(some devices, e.g. Nexus 10, "fake" <code>force</code> based on <code>radiusX</code> / <code>radiusY</code>)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/ios9/iphone6s-touch-events-force.png" alt="">
    <p><a target="_blank" href="http://patrickhlauke.github.io/touch/tracker/tracker-force-pressure.html">patrickhlauke.github.io/touch/tracker/tracker-force-pressure.html</a></p>
    <p>iPhone 6s with 3D Touch supports <code>force</code>...</p>
    <p><small>(<strong>Safari and WKWebView</strong>, e.g. Chrome/iOS, but <strong>not UIWebView</strong>, e.g. Firefox/iOS)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/w3c-touch-events-community-group.png" alt="">
    <p><a target="_blank" href="http://www.w3.org/community/touchevents">W3C Touch Events Community Group</a></p>
</div></section>

<!-- //////////////// POINTER EVENTS //////////////// -->


<!-- -->

<section class="slide impact"><div>
<div>
    <p>hybrid devices<br>touch <strong>+</strong> mouse <strong>+</strong> keyboard</p>
</div>
</div></section>

<!-- -->

<section class="slide singlepicture"><div>
<div>
    <img src="pictures/backgrounds/windows-2-in-1-touch-laptop.jpg" alt="Windows 2-in-1 touchscreen laptop/tablet devices">
</div>
</div></section>

<!-- -->

<section class="slide singlepicture"><div>
<div>
    <img src="pictures/backgrounds/window-touch-desktop.jpg" alt="All-in-one windows desktop device with touchscreen">
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
    <p>in <strong>IE10</strong> Microsoft introduced <strong>Pointer Events</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/pointer-events-funnel.png" alt="Graphic showing 'Pen', 'Touch' and 'Mouse' in a funnel">
    <p>unifies mouse, touch and pen input into a single event model</p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/w3c-pointer-events-tr.png" alt="">
    <p>submitted by Microsoft as W3C Candidate REC 09 May 2013</p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/w3c-pointer-events.png" alt="">
    <p><a target="_blank" href="http://www.w3.org/TR/pointerevents">Pointer Events - W3C REC 24 February 2015</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/w3c-pointer-events-level2-editors-draft.png" alt="">
    <p>work now continues to enhance/expand Pointer Events...</p>
    <p><a target="_blank" href="https://w3c.github.io/pointerevents/">W3C Pointer Events - Level 2 (Editor's Draft)</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/caniuse-pointer-events-current.png" alt="">
    <p><a target="_blank" href="http://caniuse.com/#search=pointer%20events">caniuse.com: Can I use <strong>pointer events</strong>?</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>...what about <strong>Apple</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/webkit-bugzilla-implement-pointer-events-wontfix.png" alt="">
    <p><a target="_blank" href="https://bugs.webkit.org/show_bug.cgi?id=105463">Bug 105463 - Implement pointer events</a> <strong>RESOLVED WONTFIX</strong></p>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
    <img src="pictures/backgrounds/apple-pencil.jpg" class="cover" alt="Apple Pencil for iPad Pro advert">
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
    <p>Apple Pencil currently indistinguishable from touch in browser / JavaScript<br><small>(no tilt information, fires touch events)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>the anatomy of <strong>Pointer Events</strong><br><small>(sequence, event object, ...)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
    <h2>events fired on tap (Edge)</h2>
<pre><code class="json">mousemove* >
<mark>pointerover</mark> > mouseover >
<mark>pointerenter</mark> > mouseenter >
<mark>pointerdown</mark> > mousedown >
focus
<em>gotpointercapture</em> >
<mark>pointermove</mark> > mousemove >
<mark>pointerup</mark> > mouseup >
<em>lostpointercapture</em> >
click >
<mark>pointerout</mark> > mouseout >
<mark>pointerleave</mark> > mouseleave</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events <mark>extend</mark> Mouse Events
   vs Touch Events and their completely new objects/arrays */

interface PointerEvent : <mark>MouseEvent</mark> {
    readonly attribute long pointerId;
    readonly attribute long width;
    readonly attribute long height;
    readonly attribute float pressure;
    readonly attribute long tiltX;
    readonly attribute long tiltY;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}

/* plus all the classic MouseEvent attributes
   like <mark>clientX</mark>, <mark>clientY</mark>, etc */

</code></pre>
    <p><a target="_blank" href="http://www.w3.org/TR/pointerevents/#pointerevent-interface">www.w3.org/TR/pointerevents/#pointerevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
    <p>handling mouse input is exactly the same as traditional mouse event<br><small>(only change <code>pointer*</code> instead of <code>mouse*</code> event names)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>are pointer events <strong>better</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>no need for <strong>separate</strong> mouse <strong>or</strong> touch event listeners</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* touch events: separate handling */

foo.addEventListener('touchmove', ... , false);
foo.addEventListener('mousemove', ... , false);


/* pointer events: single listener for mouse, stylus, touch */

foo.addEventListener('<mark>pointermove</mark>', ... , false);</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>no need for <strong>separate</strong> mouse <strong>or</strong> touch code to get x / y coords</p>
</div>
</div></section>

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events <mark>extend</mark> Mouse Events */

foo.addEventListener('<mark>pointermove</mark>', function(e) {
    ...
    posX = <mark>e.clientX</mark>;
    posY = <mark>e.clientY</mark>;
    ...
}, false);</code></pre>
    <p><a target="_blank" href="http://www.w3.org/TR/pointerevents/#pointerevent-interface">www.w3.org/TR/pointerevents/#pointerevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>but you can <strong>distinguish</strong><br>mouse <strong>or</strong> touch <strong>or</strong> stylus</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">foo.addEventListener('pointermove', function(e) {
    ...
    switch(<mark>e.pointerType</mark>) {
        case '<mark>mouse</mark>':
              ...
              break;
        case '<mark>pen</mark>':
              ...
              break;
        case '<mark>touch</mark>':
              ...
              break;
        <mark>default</mark>: /* future-proof */
    }
    ...
} , false);</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>what about <strong>multitouch?</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* PointerEvents <mark>don't</mark> have the handy TouchList objects,
   so we have to replicate something similar... */

var points = [];
switch (e.type) {
    case '<mark>pointerdown</mark>':
          /* add to the array */
          break;
    case '<mark>pointermove</mark>':
          /* update the relevant array entry's x and y */
          break;
    case '<mark>pointerup</mark>':
    case '<mark>pointercancel</mark>':
          /* remove the relevant array entry */
          break;
}</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/win10/ms-edge-tracker-pointer-hud-touch-mouse-surface3.png" alt="Touch and mouse used simultaneously, with extra information being displayed for each pointer (type, coordinates, whether it's a primary pointer, force, width, height">
    <p><a target="_blank" href="http://patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer-hud.html">patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer-hud.html</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>extended <strong>capabilities</strong><br><small>(if supported by hardware)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events - pressure */

interface PointerEvent : MouseEvent {
    readonly attribute long pointerId;
    readonly attribute long width;
    readonly attribute long height;
    readonly attribute float <mark>pressure</mark>;
    readonly attribute long tiltX;
    readonly attribute long tiltY;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}
</code></pre>
<p><code>pressure</code>: value in range <code>0</code> – <code>1</code>. if no hardware support,<br><code>0.5</code> in active button state, <code>0</code> otherwise</p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/win10/surface-ms-edge-stylus-hover-pressure.jpg" alt="">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer.html">patrickhlauke.github.io/touch/tracker/...</a></p>
    <p><a target="_blank" href="https://www.youtube.com/watch?v=5c7eT3ixbFM">YouTube: Touch tracker with Surface 3 pen</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events - contact geometry */

interface PointerEvent : MouseEvent {
    readonly attribute long pointerId;
    readonly attribute long <mark>width</mark>;
    readonly attribute long <mark>height</mark>;
    readonly attribute float pressure;
    readonly attribute long tiltX;
    readonly attribute long tiltY;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}
</code></pre>
    <p>if hardware can't detect contact geometry, either <code>0</code> or "best guess"<br>(e.g. for mouse/stylus, return <code>width</code> / <code>height</code> of <code>1</code>)</p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/win10/pointer-events-width-height-surface3-touch-mouse-stylus.png" alt="In Microsoft Edge on Surface 3, touch pointers have accurate width/height based on contact geometry, while mouse and stylus have width/height of 1">
    <p><a target="_blank" href="http://patrickhlauke.github.io/touch/tracker/tracker-width-height.html">patrickhlauke.github.io/touch/tracker/tracker-width-height.html</a></p>
    <p><a target="_blank" href="https://www.youtube.com/watch?v=3DxDdZdQzZo">YouTube: Pointer Events width and height ...</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events - tilt */

interface PointerEvent : MouseEvent {
    readonly attribute long pointerId;
    readonly attribute long width;
    readonly attribute long height;
    readonly attribute float pressure;
    readonly attribute long <mark>tiltX</mark>;
    readonly attribute long <mark>tiltY</mark>;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}
</code></pre>
    <p><code>tiltX</code>/<code>tiltY</code>: value in degrees <code>-90</code> – <code>90</code>.<br>returns <code>0</code> if hardware does not support tilt</p>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/win10/ms-edge-pen-tracker.png" alt="">
    <p><a target="_blank" href="https://patrickhlauke.github.io/touch/pen-tracker/">patrickhlauke.github.io/touch/pen-tracker</a></p>
    <p><a target="_blank" href="https://www.youtube.com/watch?v=1VlQzagF8PA">YouTube: ...pen with tilt, pressure and hover support</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p>pointer events as the <strong>future</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/chrome-devrel-youtube-pointer-events.png" alt="">
    <p><a target="_blank" href="https://www.youtube.com/watch?v=ngBy0H_q-GY">YouTube: Google Developers - HTTP 203: Pointer Events</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p><strong>transitional</strong> event handling<br>
    <small>(until all browsers support pointer events)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* cover all cases (hat-tip Stu Cox) */

if ('onpointerdown' in window) {

    /* bind to Pointer Events: pointerdown, pointerup, etc */

} else {

    /* bind to mouse events: mousedown, mouseup, etc */

    if ('ontouchstart' in window) {
        /* bind to Touch Events: touchstart, touchend, etc */
    }
}

/* bind to keyboard / click  */</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
    <p><strong>polyfills</strong> for pointer events<br>
    <small>(code for tomorrow, today)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/sites/github-jquery-pep.png" alt="">
    <p><a target="_blank" href="https://github.com/jquery/PEP">GitHub - jQuery Pointer Events Polyfill (PEP)</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="html">/* adding jQuery PEP */

&lt;script src="https://code.jquery.com/pep/0.4.1/pep.js">&lt;/script>
</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
    <img src="pictures/ios8/safari-pep.png" alt="A pointer events demo running in iOS/Safari thanks to PEP">
    <p><a target="_blank" href="http://jsbin.com/xemixu/2/edit?html,js,output">Alex Schmitz' PEP demo</a></p>
</div></section>

<!-- -->

<section class="slide" id="yougotthetouch"><div>
    <img src="pictures/backgrounds/you-got-the-touch.jpg" alt="">
    <p><a target="_blank" href="https://www.youtube.com/watch?v=AZKpByV5764">youtube.com/watch?v=AZKpByV5764</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
    <h2>get in touch</h2>
    <p><a target="_blank" href="https://twitter.com/patrick_h_lauke">@patrick_h_lauke</a><br>
    <a target="_blank" href="https://github.com/patrickhlauke/touch">github.com/patrickhlauke/touch</a><br>
    <a target="_blank" href="https://patrickhlauke.github.io/getting-touchy-presentation/">patrickhlauke.github.io/getting-touchy-presentation</a><br>
    <a target="_blank" href="http://www.slideshare.net/redux">slideshare.net/redux</a><br>
    <a target="_blank" href="http://www.paciellogroup.com">paciellogroup.com</a><br>
    <a target="_blank" href="http://www.splintered.co.uk">splintered.co.uk</a><p>
    <p><img src="pictures/cc-by-nc-sa.png" alt="Creative Commons: Attribution Non-Commercial Share-Alike"></p>
</div></section>

    <!--
        To hide progress bar from entire presentation
        just remove “progress” element.
        -->
    <div class="progress"></div>
    <script src="shower/shower.min.js"></script>
</body>
</html>