<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Getting touchy - an introduction to touch and pointer events / Patrick H. Lauke</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=792, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="shower/themes/redux/styles/screen.css">
	<link rel="stylesheet" href="shower/themes/redux/styles/overrides.css">
	<link rel="stylesheet" href="highlight/styles/sunburst.css">
	<script src="highlight/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="list">
<header class="caption">
	<h1>Getting touchy</h1>
	<p>An introduction to touch and pointer events</p>
</header>

<!-- -->

<section class="slide cover title" id="Cover"><div>
	<div class="titlestrap">
    	<h2>Getting <strong>touchy</strong></h2>
		<p>An introduction to <strong>touch and pointer</strong> events</p>
    </div>
	<p class="info">Patrick H. Lauke / Version 1.4.12092015 / Smashing Conference Freiburg 2015</p>
	<img src="pictures/backgrounds/background-cover.jpg" alt="" class="cover">
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/github-patrickhlauke-getting-touchy.png" alt="">
	<p><a target=_blank href="https://github.com/patrickhlauke/getting-touchy-presentation">github.com/patrickhlauke/getting-touchy-presentation</a></p>
	<p>"evergreen" expanded version of this presentation<br><small>(and branches for specific conferences)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/patrickhlauke.github.io.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/">patrickhlauke.github.io/touch</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/backgrounds/photo-jack-device-testing.jpg" alt="Jack helping out with device testing on tablet and mobile (with VTech phone and tablet toddler toys)">
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/backgrounds/photo-device-testing.jpg" alt="Large number of mobile phone/tablet test devices">
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/patrickhlauke-github-touch-results.png">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/results/">Touch/pointer events test results</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>“how can I make my website<br>work on <strong>touch devices</strong>?”</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>you <strong>don't</strong> need <strong>touch events</strong><br>browsers <strong>emulate</strong> regular <strong>mouse events</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-mouse-before.png" alt="">
	<p><a target=_blank href="http:patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html">patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-mouse-after.png" alt="">
	<p><a target=_blank href="http:patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html">patrickhlauke.github.io/touch/tests/event-listener_mouse-only.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>compatibility mouse events</h2>
	<pre><code class="json">(mouseenter) > mouseover > mousemove* > mousedown >
(focus) > mouseup > click</code></pre>
	<p><small>* only a single “sacrificial” <code>mousemove</code> event fired</small></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>on first tap</h2>
	<pre><code class="json">(mouseenter) > mouseover > mousemove >
	mousedown > (focus) > mouseup > click</code></pre>
	<h2>subsequent taps</h2>
	<pre><code class="json">mousemove > mousedown > mouseup > click</code></pre>
	<h2>tapping away</h2>
	<pre><code class="json">mouseout > (blur)</code></pre>
	<p><code>focus</code>/<code>blur</code> only on focusable elements in <del>Opera Mobile and</del> Firefox<br>
	<code>mouseout</code> not on iOS Safari/WebView (e.g. iOS Chrome)</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>emulation works,<br>but is <strong>limiting</strong>/<strong>problematic</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li>delayed event dispatch</li>
		<li>mousemove doesn't track</li>
	</ol>
	<p><small>("evergreen" presentation also covers hover/mouseover)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li><strong>delayed event dispatch</strong></li>
		<li>mousemove doesn't track</li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-show-delay-before.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_show-delay.html">patrickhlauke.github.io/touch/tests/event-listener_show-delay.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-show-delay-after.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_show-delay.html">patrickhlauke.github.io/touch/tests/event-listener_show-delay.html</a></p>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li>delayed event dispatch</li>
		<li><strong>mousemove doesn't track</strong></li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/chrome-particle-party.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/2">patrickhlauke.github.io/touch/particle/2</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-particle-party-mouse-only.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/2">patrickhlauke.github.io/touch/particle/2</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>“we need to go deeper...”</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h2>touch events</h2>
	<p>introduced by Apple, adopted in Chrome/Firefox/Opera</p>
	<p><a target=_blank href="http://www.w3.org/TR/touch-events">www.w3.org/TR/touch-events</a></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><code class="json">touchstart<br>
touchmove<br>
touchend<br>
touchcancel</code></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-all-no-timings-before.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html">patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-all-no-timings-after.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html">patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html</a></p>
	<p><small><a target=_blank href="https://bugs.webkit.org/show_bug.cgi?id=128534"><strike>Bug 128534 - 'mouseenter' mouse compat event not fired...</strike></a></small></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>events fired on tap</h2>
	<pre><code class="json">touchstart > [touchmove]+ > touchend >
(mouseenter) > mouseover > mousemove > mousedown >
(focus) > mouseup > click</code></pre>
	<p><small>(mouse events only fired for single-finger tap)</small></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>on first tap</h2>
	<pre><code class="json">touchstart > [touchmove]+ > touchend >
(mouseenter) > mouseover > mousemove > mousedown >
(focus) > mouseup > click</code></pre>
	<h2>subsequent taps</h2>
	<pre><code class="json">touchstart > [touchmove]+ > touchend >
mousemove > mousedown > mouseup > click</code></pre>
	<h2>tapping away</h2>
	<pre><code class="json">mouseout > (mouseleave) > (blur)</code></pre>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ul>
	<li>too many <code>touchmove</code> events prevent mouse compatibility events after <code>touchend</code> (not considered a "clean" tap)</li>
	<li>too many <code>touchmove</code> events on activatable elements can lead to touchcancel (in old Chrome/Browser versions)</li>
	<li>not all browsers consistently send the <code>touchmove</code></li>
	</ul>
	<p>some browsers outright weird...</p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>Browser/Android 4.3 (AppleWebKit/534.30)</h2>
	<pre><code class="json"><mark>mouseover</mark> > <mark>mousemove</mark> > touchstart > touchend >
mousedown > mouseup > click</code></pre>
	<h2>Browser/Blackberry PlayBook 2.0 (AppleWebKit/536.2)</h2>
	<pre><code class="json">touchstart > <mark>mouseover</mark> > <mark>mousemove</mark> > <mark>mousedown</mark> >
touchend > mouseup > click</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/patrickhlauke-github-touch-results.png">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/results/">Touch/pointer events test results</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>touch events<br><strong>vs</strong><br><strong>limitations</strong>/<strong>problems</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li>delayed event dispatch</li>
		<li>mousemove doesn't track</li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li><strong>delayed event dispatch</strong></li>
		<li>mousemove doesn't track</li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-show-delay-after.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_show-delay.html">patrickhlauke.github.io/touch/tests/event-listener_show-delay.html</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>why the delay?<br><strong>double-tap to zoom</strong><br><small>(mostly anyway)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p><strong>when</strong> does the delay happen?</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-all-after.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>touch / mouse events delay</h2>
	<pre><code class="json">touchstart > [touchmove]+ > touchend >

<mark>[300ms delay]</mark>

(mouseenter) > mouseover > mousemove > mousedown >
(focus) > mouseup > click</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>“how can we make it feel <strong>responsive</strong> like a native app?”</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>react to events fired <strong>before</strong> the 300ms delay...</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><code>touchstart</code> for an “immediate” control<br><small>(e.g. fire/jump button on a game)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><code>touchend</code> for a control that fires after finger lifted</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>interlude: simple <strong>feature detection</strong> for touch events</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* feature detection for touch events */

if (<mark>'ontouchstart' in window</mark>) {
    /* some clever stuff here */
}

/* older browsers have flaky support so more
   hacky tests needed...use <mark>Modernizr.touch</mark> or similar */</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* common performance “trick” */

var clickEvent =
    (<mark>'ontouchstart' in window ? 'touchend' : 'click'</mark>);

blah.addEventListener(<mark>clickEvent</mark>, function() { ... }, false);

/* <mark>if touch events are supported,
   only listen to touchend, not click</mark> */
</code></pre>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
	<div><p>don't make it touch-exclusive</p></div>
	<img src="pictures/backgrounds/background-danger-415-volts.jpg" class="cover" alt="">
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>hybrid devices<br>touch <strong>+</strong> mouse <strong>+</strong> keyboard</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<img src="pictures/win8/photo-win8-devices.png" alt="Windows 8 touchscreen laptop/tablet devices">
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<img src="pictures/chrome-os/photo-chromebook-pixel.jpg" alt="Chromebook Pixel touchscreen laptop">
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<img src="pictures/win8/photo-dell-inspiron-one-2330.jpg" alt="Windows 8 Dell Inspiron One 2330 touchscreen all-in-one desktop">
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/naive-click-delay-optimisation.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_show-delay-naive-event-fix.html">patrickhlauke.github.io/touch/tests/event-listener_show-delay-naive-event-fix.html</a>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/bugzilla-sites-with-touch.png" alt="Bugzilla">
	<p><a target=_blank href="https://bugzilla.mozilla.org/show_bug.cgi?id=888304">Bug 888304 - touch-events on Firefox-desktop should be disabled until we can support them properly</a>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/chromium-issue392584-enable-touchevent-api-all-the-time.png" alt="">
	<p><a target=_blank href="https://code.google.com/p/chromium/issues/detail?id=392584">Issue 392584: Enable TouchEvent API all the time</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>even on <strong>"mobile"</strong> we can have multiple inputs...</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<img src="pictures/htc-hero-android-2.1/photo-htc-hero-product-shot.jpg" alt="HTC Hero touchscreen phone with built-in trackball">
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<img src="pictures/android/photo-android-laptops.jpg" alt="Android tablet-based laptops">
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/backgrounds/photo-android-mouse.jpg" alt="">
	<p>Android + mouse – behaves like touch</p>
	<p><code class="json">touchstart > touchend > mouseover > mousemove >
mousedown > (focus) > mouseup > click</code></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/backgrounds/photo-win10mobile-mouse.jpg" alt="">
	<p>Windows 10 Mobile/Microsoft Edge + mouse - <strong>like desktop</strong></p>
	<p><code class="json">mouseover > mousedown > mousemove > mouseup > click</code></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/backgrounds/photo-android-keyboard.jpg" alt="">
	<p>Android + keyboard – <strong>like desktop keyboard</strong> (TAB / ENTER)</p>
	<p><code class="json">focus > click</code></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>iOS keyboard only works in same situations as on-screen keyboard<br><small>(e.g. text inputs, URL entry)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>mobile Assistive Technologies<br><small>(e.g. screen readers on touchscreen devices)</small></p></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/voiceover-event-listener-all-no-timings-after.png" alt="">
	<p>iOS + VoiceOver (with/without keyboard) – similar to touch</p>
	<p><code class="json">focus > touchstart > touchend > (mouseenter) > mouseover > mousemove > mousedown > blur > mouseup > click</code></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-talkback-activate.png" alt="">
	<p>Android + TalkBack – <strong>keyboard/mouse hybrid</strong></p>
	<p><code class="json">focus > blur > mousedown > mouseup > click > focus(?)</code></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h2>further scenarios?</h2>
	<ul>
	<li>desktop with external touchscreen</li>
	<li>desktop with external touchpad</li>
	<li>touchscreen laptop with non-touch second screen</li>
	<li>touchscreen laptop with trackpad/mouse</li>
	<li>...and other permutations?</li>
	</ul>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>no way to detect these cases...</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/hacks-mozilla-detecting-touch-why-not-how.png" alt="">
	<p><a target=_blank href="https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/">hacks.mozilla.org - Detecting touch [...]</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* feature detection for touch events */

if ('ontouchstart' in window) {
<mark>    /* browser supports touch events but user is
       not necessarily using touch (exclusively) */</mark>

<mark>    /* it could be a mobile, tablet, desktop, fridge ... */</mark>
}
</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>touch <strong>or</strong> mouse <strong>or</strong> keyboard</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>touch <strong>and</strong> mouse <strong>and</strong> keyboard</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* doubled-up event listeners */

foo.addEventListener('<mark>touchend</mark>', someFunction, false);
foo.addEventListener('<mark>click</mark>', someFunction, false);


/* <mark>but this would fire our function twice for touch?</mark> */
</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* doubled-up event listeners */

foo.addEventListener('touchend', someFunction, false);
foo.addEventListener('click', someFunction, false);

/* prevent mouse events + click as part of the common handler */

function someFunction(e) {
  ...
  if (e.type == 'touchend') { e.preventDefault(); }
  ...
}

</code></pre>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
	<div><p><code>preventDefault()</code> kills<br>scrolling, pinch/zoom, etc<p></div>
	<img src="pictures/backgrounds/background-danger-415-volts.jpg" class="cover" alt="">
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>apply <code>preventDefault()</code> carefully<br><small>(just on buttons/links, not entire page)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/github-fastclick.png" alt="">
	<p><a target=_blank href="https://github.com/ftlabs/fastclick">github.com/ftlabs/fastclick</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios8/bootstrap-fastclick.png" alt="Bootstrap with simple FastClick.js addition - slide-down navigation button has no more delay">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/fastclick/fastclick.html">patrickhlauke.github.io/touch/fastclick/fastclick.html</a></p>
	<p><a target=_blank href="https://www.youtube.com/watch?v=5VCQjBi8m4U">YouTube: iOS/Safari 300ms click delay: vanilla Bootstrap and using fastclick.js</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>browsers working to remove <strong>double-tap to zoom</strong> delay<br><small>(when page not zoomable)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-user-scalable-no-after.png" alt="">
	<p><code class="html">&lt;meta name="viewport" content="user-scalable=no"></code></p>
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html">patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-event-listener-all-minimum-scale-maximum-scale.png" alt="">
	<p><code class="html">... content="minimum-scale=1, maximum-scale=1"</code></p>
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_minimum-maximum-scale.html">patrickhlauke.github.io/touch/tests/event-listener_minimum-maximum-scale.html</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
<p>what about <strong>accessibility</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-force-enable-zoom-settings.png" alt="Chrome's 'Force enable zoom' setting">
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-force-enable-zoom-delay.png" alt="When 'Force enable zoom' is turned on, users can still zoom, but the 300ms delay - even with user-scalable=no - returns. A fair compromise?">
	<p>"Force enable zoom" reintroduces delay</p>
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html">patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/firefox-android-force-zoom.png" alt="Firefox/Android's 'Always enable zoom' setting">
</div></section>


<section class="slide statement"><div>
<div>
	<p><strong>"mobile optimised"</strong> viewport and<br> <strong>"double-tap to zoom"</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/developers-google-300ms-tap-delay-gone-away.png" alt="">
	<p>Chrome 32+ / Android: <code>content="width=device-width"</code><br>suppresses double-tap-to-zoom, still allows pinch zoom</p>
	<p><a target=_blank href="https://developers.google.com/web/updates/2013/12/300ms-tap-delay-gone-away">Google Developers: 300ms tap delay, gone away</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/bugzilla-remove-300ms-for-width-device-width.png" alt="">
	<p><a target=_blank href="https://bugzilla.mozilla.org/show_bug.cgi?id=941995">Bug 941995 - Remove 300ms [...] on "responsive" pages</a></p>
	<p><strong>[RESOLVED FIXED]</strong></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/event-listener-delay-optimisation-user-scalable-no.png" alt="iOS7 Safari/WebView does not have any viewport/click delay optimisations." style="transform: rotate(180deg);-webkit-transform: rotate(180deg);">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html">patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/webkit-bugzilla-optimizations-to-remove-300ms-touch-mouse-events-delay.png" alt="">
	<p>iOS/Safari designed themselves into a corner: “double-tap to scroll”</p>
	<p><a target=_blank href="https://bugs.webkit.org/show_bug.cgi?id=122212">Bug 122212 - Optimizations to remove 300ms touch > mouse events delay</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/patrickhlauke-github-touch-results-300ms-delay.png" alt="">
	<p><a target=_blank src="https://patrickhlauke.github.io/touch/tests/results/#suppressing-300ms-delay">patrickhlauke.github.io/touch/tests/results/#suppressing-300ms-delay</a></p>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li>delayed event dispatch</li>
		<li><strong>mousemove doesn't track</strong></li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/chrome-particle-party.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/2">patrickhlauke.github.io/touch/particle/2</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-particle-party-mouse-only.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/2">patrickhlauke.github.io/touch/particle/2</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>events fired on tap</h2>
	<pre><code class="json">touchstart > [touchmove]+ > touchend >
(mouseenter) > mouseover >
<mark>mousemove*</mark> > mousedown > (focus) >
mouseup > click</code></pre>
	<p><small>* mouse event emulation fires only a single <code>mousemove</code></small><p>
	<p><small>too many <code>touchmove</code> events prevent mouse compatibility events after <code>touchend</code></small></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>doubling up handling of <code>mousemove</code> and <code>touchmove</code></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">var posX, posY;
...
function positionHandler(e) {
    posX = <mark>e.clientX</mark>;
    posY = <mark>e.clientY</mark>;
}
...
canvas.addEventListener('<mark>mousemove</mark>', positionHandler, false);</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">var posX, posY;
...
function positionHandler(e) {
    posX = <mark>e.clientX</mark>;
    posY = <mark>e.clientY</mark>;
}
...
canvas.addEventListener('<mark>mousemove</mark>', positionHandler, false);
canvas.addEventListener('<mark>touchmove</mark>', positionHandler, false);

/* <mark>but this won't work for touch...</mark> */
</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface MouseEvent : UIEvent {
    readonly attribute long <mark>screenX</mark>;
    readonly attribute long <mark>screenY</mark>;
    readonly attribute long <mark>clientX</mark>;
    readonly attribute long <mark>clientY</mark>;
    readonly attribute boolean ctrlKey;
    readonly attribute boolean shiftKey;
    readonly attribute boolean altKey;
    readonly attribute boolean metaKey;
    readonly attribute unsigned short button;
    readonly attribute EventTarget relatedTarget;
    void initMouseEvent(...);
};</code></pre>
<p><a target=_blank href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-MouseEvent">www.w3.org/TR/DOM-Level-2-Events/events.html#Events-MouseEvent</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">partial interface MouseEvent {
    readonly attribute double screenX;
    readonly attribute double screenY;
    readonly attribute double <mark>pageX</mark>;
    readonly attribute double <mark>pageY</mark>;
    readonly attribute double clientX;
    readonly attribute double clientY;
    readonly attribute double <mark>x</mark>;
    readonly attribute double <mark>y</mark>;
    readonly attribute double <mark>offsetX</mark>;
    readonly attribute double <mark>offsetY</mark>;
};</code></pre>
<p><a target=_blank href="http://www.w3.org/TR/cssom-view/#extensions-to-the-mouseevent-interface">www.w3.org/TR/cssom-view/#extensions-to-the-mouseevent-interface</a></p>
</div></section>

<!-- -->

<!-- after 14 years, Mozilla Firefox now also supports offsetX/offsetY - https://bugzilla.mozilla.org/show_bug.cgi?id=69787 / https://hacks.mozilla.org/2015/08/trainspotting-firefox-40/ -->

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface TouchEvent : UIEvent {
    readonly attribute <mark>TouchList touches</mark>;
    readonly attribute <mark>TouchList targetTouches</mark>;
    readonly attribute <mark>TouchList changedTouches</mark>;
    readonly attribute boolean altKey;
    readonly attribute boolean metaKey;
    readonly attribute boolean ctrlKey;
    readonly attribute boolean shiftKey;
};</code></pre>
<p><a target=_blank href="http://www.w3.org/TR/touch-events/#touchevent-interface">www.w3.org/TR/touch-events/#touchevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface Touch {
    readonly attribute long identifier;
    readonly attribute EventTarget target;
    readonly attribute long <mark>screenX</mark>;
    readonly attribute long <mark>screenY</mark>;
    readonly attribute long <mark>clientX</mark>;
    readonly attribute long <mark>clientY</mark>;
    readonly attribute long <mark>pageX</mark>;
    readonly attribute long <mark>pageY</mark>;
};</code></pre>
<p><a target=_blank href="http://www.w3.org/TR/touch-events/#touch-interface">www.w3.org/TR/touch-events/#touch-interface</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<dl>
	<dt><code>touches</code></dt>
	<dd>all touch points on screen</dd>
	<dt><code>targetTouches</code></dt>
	<dd>all touch points that <em>started</em> on the element</dd>
	<dt><code>changedTouches</code></dt>
	<dd>touch points that caused the event to fire</dd>
	</dl>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/touchlist-objects.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/touchlist-objects">patrickhlauke.github.io/touch/touchlist-objects</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">var posX, posY;
...
function positionHandler(e) {
    <mark>if ((e.clientX)&amp;&amp;(e.clientY))</mark> {
        posX = e.clientX; posY = e.clientY;
    } <mark>else if (e.targetTouches)</mark> {
        posX = e.targetTouches[0].clientX;
        posY = e.targetTouches[0].clientY;
        <mark>e.preventDefault()</mark>;
    }
}
...
canvas.addEventListener('mousemove', positionHandler, false );
canvas.addEventListener('touchmove', positionHandler, false );</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-particle-party-mouse-and-touch.png" alt="Particle party with touch working correctly with moving finger on Android device">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/3">patrickhlauke.github.io/touch/particle/3</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/paranoid.png" alt="">
	<p><a target=_blank href="http://www.splintered.co.uk/experiments/archives/paranoid_0.5">www.splintered.co.uk/experiments/archives/paranoid_0.5</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-ratchet-swipe-carousel.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/picture-slider">patrickhlauke.github.io/touch/picture-slider</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>tracking finger movement over time ... <strong>swipe gestures</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/swipe-after.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/swipe">patrickhlauke.github.io/touch/swipe</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>don't forget <strong>mouse</strong>/<strong>keyboard</strong>!</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/bradfrostweb-demo-mobile-first.png" alt="Brad Frost's responsive demo site, featuring a combination of swipe-able image carousel in addition to image thumbnails, allowing BOTH swipe and click/keyboard interaction">
	<p><a target=_blank href="http://bradfrostweb.com/demo/mobile-first">bradfrostweb.com/demo/mobile-first</a></p>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
	<div><p><code>touchmove</code> fires...a lot!</p></div>
	<img src="pictures/backgrounds/background-danger-415-volts.jpg" class="cover" alt="">
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>do absolute minimum on each <code>touchmove</code><br>
	<small>(usually: store coordinates)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>heavy JavaScript on <code>setInterval</code> or <code>requestAnimationFrame</code></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>debounce/throttle events</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">function debounce(func, wait, immediate) {
	var timeout;
	return function() {
		var context = this, args = arguments;
		var later = function() {
			timeout = null;
			if (!immediate) func.apply(context, args);
		};
		var callNow = immediate &amp;&amp; !timeout;
		clearTimeout(timeout); timeout = setTimeout(later, wait);
		if (callNow) func.apply(context, args);
	};
};
<mark>var myEfficientFn = debounce(function() { ... }, 250);</mark>
window.addEventListener('touchmove', myEfficientFn);</code></pre>
	<p><a target=_blank href="http://davidwalsh.name/javascript-debounce-function">David Walsh: JavaScript Debounce Function</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-limitjs.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/touch-limit">patrickhlauke.github.io/touch/touch-limit</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>why stop at a single point?<br><strong>multitouch</strong> support</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface TouchEvent : UIEvent {
    readonly attribute <mark>TouchList touches</mark>;
    readonly attribute <mark>TouchList targetTouches</mark>;
    readonly attribute <mark>TouchList changedTouches</mark>;
    readonly attribute boolean altKey;
    readonly attribute boolean metaKey;
    readonly attribute boolean ctrlKey;
    readonly attribute boolean shiftKey;
};</code></pre>
<p><a target=_blank href="http://www.w3.org/TR/touch-events/#touchevent-interface">www.w3.org/TR/touch-events/#touchevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* iterate over touch array */

for (i=0; i&lt;<mark>e.targetTouches</mark>.length; i++) {
    ...
    posX = <mark>e.targetTouches[i].clientX</mark>;
    posY = <mark>e.targetTouches[i].clientY</mark>;
    ...
}</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/android/chrome-multitracker.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tracker/multi-touch-tracker.html">patrickhlauke.github.io/touch/tracker/multi-touch-tracker.html</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>multitouch gestures</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* <mark>iOS/Safari/WebView</mark> has gesture events for size/rotation,
<mark>not part</mark> of the W3C Touch Events spec. */

gesturestart / gesturechange / gestureend

function(e) {
	/* e.<strong>scale</strong>
	   e.<strong>rotation</strong> */
}

/* <mark>not supported in Chrome/Firefox/Opera</mark> */
</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* with some trigonometry we can replicate
   these from basic principles. */

var distance = Math.sqrt(Math.pow(...)+Math.pow(...));
var angle = Math.atan2(...);</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios7/ipad-picture-organiser.png" alt="Picture Organiser demo on iOS7/iPad, with four images freely moved/scaled/rotated">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/picture-organiser">patrickhlauke.github.io/touch/picture-organiser</a></p>
</div></section>

<!-- //////////////// POINTER EVENTS //////////////// -->

<section class="slide impact"><div>
<div>
	<p>what about <br><strong>Internet Explorer</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>up to <strong>IE9</strong> (Win7 / WinPhone7.5) only mouse events</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>in <strong>IE10</strong> Microsoft introduced <strong>Pointer Events</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/pointer-events-funnel.png" alt="Graphic showing 'Pen', 'Touch' and 'Mouse' in a funnel">
	<p>unifies mouse, touch and pen input into a single event model</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>not just some<br>“<strong>not invented here</strong>”<br>technology</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-pointer-events-tr.png" alt="">
	<p>submitted by Microsoft as W3C Candidate REC 09 May 2013</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-pointer-events.png" alt="">
	<p><a target=_blank href="http://www.w3.org/TR/pointerevents">Pointer Events - W3C REC 24 February 2015</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/html5labs-interoperabilitybridges.png" alt="">
	<p><a target=_blank href="http://html5labs.interoperabilitybridges.com/prototypes/pointer-events-for-webkit/pointer-events-for-webkit/info">html5labs.interoperabilitybridges.com/prototypes/...</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/chromium-issue162757-implement-pointer-events.png" alt="">
	<p><a target=_blank href="https://code.google.com/p/chromium/issues/detail?id=162757">Issue 162757: Implement pointer events in Chrome behind experimental flag</a></p>
	<p><small>(however, more on this later...)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/hacks-mozilla-firefox-nightly-pointer-events.png" alt="">
	<p><a target=_blank href="https://hacks.mozilla.org/2015/08/pointer-events-now-in-firefox-nightly/">hacks.mozilla.org - Pointer Events now in Firefox Nightly</a><br><small>(at the moment, only for mouse and quite basic)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/osx/firefox-nightly-mac-pointer-events.png" alt="">
	<p>Firefox Nightly now first browser with Pointer Events on OS X</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>...what about <strong>Apple</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/webkit-bugzilla-implement-pointer-events-wontfix.png" alt="">
	<p><a target=_blank href="https://bugs.webkit.org/show_bug.cgi?id=105463">Bug 105463 - Implement pointer events</a> <strong>RESOLVED WONTFIX</strong></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/list-webkit-maciej-pointer-events.png" alt="">
	<p><a target=_blank href="https://lists.webkit.org/pipermail/webkit-dev/2012-December/023050.html">Maciej Stachowiak - [webkit-dev] pointer events specification - first editors draft</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/twitter-patrickhlauke-apple-pointer-events.png" alt="">
	<p><a target=_blank href="https://twitter.com/patrick_h_lauke/status/570522295317372928">@patrick_h_lauke paraphrasing Apple's stance on Pointer Events...</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>the anatomy of <strong>Pointer Events</strong><br><small>(sequence, event object, ...)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/ie11-all-events2.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html">patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>events fired on tap (IE10/IE11)</h2>
<pre><code class="json">mousemove* >
<mark>pointerover</mark> > mouseover >
<mark>pointerenter</mark> > mouseenter >
<mark>pointerdown</mark> > mousedown >
<em>gotpointercapture</em> >
focus >
<mark>pointermove</mark> > mousemove >
<mark>pointerup</mark> > mouseup >
<em>lostpointercapture</em> >
<mark>pointerout</mark> > mouseout >
<mark>pointerleave</mark> > mouseleave >
click</code></pre>
	<p>mouse events fired “inline” with pointer events<br><small>(for a primary pointer, e.g. first finger on screen)</small></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>current IE10/11 quirk</h2>
<pre><code class="json">...
pointerup > mouseup >
<em>lostpointercapture</em> >
pointerout > mouseout >
pointerleave > mouseleave >
<mark>click</mark></code></pre>
<p>the fact that <code>click</code> comes last is a current IE10/11 quirk – according to spec it should come after <code>pointerup > mouseup</code>, and does already when using <code>touch-action</code></p>
	<p><a target=_blank href="http://lists.w3.org/Archives/Public/public-pointer-events/2014OctDec/0025.html">W3C Pointer Events WG mailing list - Jacob Rossi (Microsoft)</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-event-sequence-no-timing.png" alt="Microsoft Edge / Windows 10 pointer events / mouse events sequence">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html">patrickhlauke.github.io/touch/tests/event-listener_all-no-timings.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>events fired on tap (Edge)</h2>
<pre><code class="json">mousemove* >
<mark>pointerover</mark> > mouseover >
<mark>pointerenter</mark> > mouseenter >
<mark>pointerdown</mark> > mousedown >
focus
<em>gotpointercapture</em> >
<mark>pointermove</mark> > mousemove >
<mark>pointerup</mark> > mouseup >
<em>lostpointercapture</em> >
click >
<mark>pointerout</mark> > mouseout >
<mark>pointerleave</mark> > mouseleave</code></pre>
	<p>note <code>click</code> fired correctly after <code>pointerup</code> in Microsoft Edge</p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>vendor-prefixed in IE10</h2>
<pre><code class="json">MSPointerDown etc
navigator.msMaxTouchPoints
-ms-touch-action</code></pre>
	<p>unprefixed in IE11 <small>(but prefixed versions still mapped for compatibility)</small></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events <mark>extend</mark> Mouse Events
   vs Touch Events and their completely new objects/arrays */

interface PointerEvent : <mark>MouseEvent</mark> {
    readonly attribute long pointerId;
    readonly attribute long width;
    readonly attribute long height;
    readonly attribute float pressure;
    readonly attribute long tiltX;
    readonly attribute long tiltY;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}

/* plus all the classic MouseEvent attributes
   like <mark>clientX</mark>, <mark>clientY</mark>, etc */

</code></pre>
	<p><a target=_blank href="http://www.w3.org/TR/pointerevents/#pointerevent-interface">www.w3.org/TR/pointerevents/#pointerevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>simple <strong>feature detection</strong> for pointer events</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* detecting pointer events support */

if (<mark>window.PointerEvent</mark>) {
    /* some clever stuff here but this covers
       touch, stylus, mouse, etc */
}

/* <mark>still listen to click for keyboard!</mark> */</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-pointer-events-kbd-note.png" alt="Keyboard-related note in W3C Pointer Events, referencing WCAG 2.0 Guideline 2.1">
	<p>"don't forget about keyboard users" note in Pointer Events spec</p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* detect maximum number of touch points */

if (<mark>navigator.maxTouchPoints > 0</mark>) {
    /* device with a touchscreen */
}

if (<mark>navigator.maxTouchPoints > 1</mark>) {
    /* multitouch-capable device */
}</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>are pointer events <strong>better</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>pointer events<br><strong>vs</strong><br><strong>limitations</strong>/<strong>problems</strong> of mouse event emulation</p>
</div>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li>delayed event dispatch</li>
		<li>mousemove doesn't track</li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li><strong>delayed event dispatch</strong></li>
		<li>mousemove doesn't track</li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/ie11-event-listener-all-after.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p>(IE11/WinPhone 8.1 Update no optimization for <code>width=device-width</code>)
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/ie11-all-inc-timings2.png" alt="300ms delay happens only just before click event is fired - compare to touch events where the delay happens after touchend but before all mouse compatibility events">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p><p><small>(IE/Win8 has double-tap to zoom, so problem on desktop too)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-event-sequence-showing-click-delay.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p>
	<p><small>(Microsoft Edge/Win10 has double-tap to zoom, so problem on desktop too)</small></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>pointer / mouse events and delay</h2>
<pre><code class="json">...
<mark>[300ms delay]</mark>
click
...</code></pre>
	<p>300ms delay just before <code>click</code> event</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>“how can we make it feel <strong>responsive</strong> like a native app?”</p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>we <strong>could</strong> try a similar approach to touch events...</p>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ul>
	<li>double-up <code>pointerup</code> and <code>click</code> listeners?</li>
	<li>prevent code firing twice with <code>preventDefault</code>?</li>
	</ul>
	<p><strong>won't work:</strong> <code>preventDefault()</code> stops mouse compatibility events, but <code>click</code> is not considered mouse compatibility event</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/ie11-event-series-preventdefault.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>a more declarative approach<br>with <code>touch-action</code></p>
</div>
</div></section>

<section class="slide code"><div>
	<h2>CSS property</h2>
	<p>what action should the browser handle?</p>
	<pre><code class="css">touch-action: auto | <mark>none</mark> | [ pan-x || pan-y ] | <mark>manipulation</mark></code></pre>
	<p><a target=_blank href="http://www.w3.org/TR/pointerevents/#the-touch-action-css-property">www.w3.org/TR/pointerevents/#the-touch-action-css-property</a></p><p>only determines default touch action, does not stop compatibility mouse events nor <code>click</code></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><code>touch-action:none</code></p>
	<p><small>(suppress all default browser behaviour)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/ie11-touch-action-none-no-delay.png" alt="IE11/WinPhone8.1 shows no click delay with touch-action:none">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_touch-action-none.html">patrickhlauke.github.io/touch/tests/event-listener_touch[...]</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-events-touch-action-none.png" alt="Microsoft Edge/Windows 10 shows no click delay after tap on touchscreen with touch-action:none">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_touch-action-none.html">patrickhlauke.github.io/touch/tests/event-listener_touch[...]</a></p>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
	<div><p><code>touch-action:none</code> kills scrolling, long-press, pinch/zoom</p></div>
	<img src="pictures/backgrounds/background-danger-415-volts.jpg" class="cover" alt="">
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><code>touch-action:manipulation</code></p>
	<p><small>(suppress double-tap-to-zoom)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/ie11-touch-action-manipulation-no-delay.png" alt="IE11/WinPhone8.1 shows no click delay with touch-action:manipulation">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_touch-action-manipulation.html">patrickhlauke.github.io/touch/tests/event-listener_touch[...]</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-events-touch-action-manipulation.png" alt="Microsoft Edge/Windows 10 shows no click delay after tap on touchscreen with touch-action:manipulation">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_touch-action-manipulation.html">patrickhlauke.github.io/touch/tests/event-listener_touch[...]</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/bugzilla-implement-touch-action-manipulation.png">
	<p><a target=_blank href="https://bugzilla.mozilla.org/show_bug.cgi?id=979345">Bug 979345 - Implement <code>touch-action:manipulation</code> [...]</a></p>
	<p><strong>[RESOLVED FIXED]</strong></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/chromium-issue349016-add-support-for-touch-action-manipulation.png" alt="">
	<p><a target=_blank href="https://code.google.com/p/chromium/issues/detail?id=349016"> Issue 349016: Add support for <code>touch-action:manipulation</code></a></p>
	<p><a target=_blank href="chrome://flags/#enable-experimental-web-platform-features">chrome://flags/#enable-experimental-web-platform-features (Chrome 35)</a></p>
	<p><strong>[FIXED]</strong></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/webkit-bugzilla-implement-touch-action-manipulation.png" alt="">
	<p><a target=_blank href="https://bugs.webkit.org/show_bug.cgi?id=133114">Bug 133114 - Implement "<code>touch-action:manipulation</code>" [...]</a></p><p>Apple at least considering this, for once...</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>browsers working to remove <strong>double-tap to zoom</strong> delay<br><small>(when page not zoomable)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/ie11-8.1u1-userscalable-no-no-delay.png" alt="IE11/Windows Phone 8.1u1 support for user-scalable=no and click delay suppression">
	<p><code class="html">&lt;meta name="viewport" content="user-scalable=no"></code></p>
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html">patrickhlauke.github.io/touch/tests/event-listener_user-scalable-no.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/ie11-8.1u1-min-max-scale-no-delay.png" alt="IE11/Windows Phone 8.1u1 support for minimum-scale/maximum-scale set to same and click delay suppression">
	<p><code class="html">... content="minimum-scale=1, maximum-scale=1"</code></p>
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_minimum-maximum-scale.html">patrickhlauke.github.io/touch/tests/event-listener_minimum-maximum-scale.html</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/settings-force-zoom.png" alt="Windows Phone 8's 'Allow zooming on all web content' setting to override unzoomable viewports">
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10mobile/win10mob-edge-pointer-mouse-event-sequence-timings.png" alt="Microsoft Edge removes the 300ms delay for width=device-width">
	<p>Microsoft Edge removes delay for <code class="html">width=device-width</code></p>
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener_width-device-width.html">patrickhlauke.github.io/touch/tests/event-listener_width-device-width.html</a></p>
</div></section>

<!-- -->

<section class="slide statement listing"><div>
<div>
	<ol>
		<li>delayed event dispatch</li>
		<li><strong>mousemove doesn't track</strong></li>
	</ol>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/ie10-particle-party.png" alt="Particle party just with mouse event handlers has same issues under pointer events as with touch events - only a single mousemove is fired on first touching">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/2">patrickhlauke.github.io/touch/particle/2</a></p>
	<p><code>mousemove</code>/<code>pointermove</code> fire, but browser scroll action takes over</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>you can "fake" it with<br><code>touch-action:none</code><br>and listen for mouse events...</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/ie10-particle-party2.png" alt="By suppressing default touch action on the particle party canvas, pointer events now 'track' - mousemove is fired continuously as finger moves across canvas">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/particle/2a">patrickhlauke.github.io/touch/particle/2a</a></p>
	<p>(does <strong>not</strong> work in Microsoft Edge/Windows 10 Mobile<br>due to touch events support)</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>better: just listen to <code>pointermove</code>...</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>no need for <strong>separate</strong> mouse <strong>or</strong> touch event listeners</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* touch events: separate handling */

foo.addEventListener('touchmove', ... , false);
foo.addEventListener('mousemove', ... , false);


/* pointer events: single listener for mouse, stylus, touch */

foo.addEventListener('<mark>pointermove</mark>', ... , false);</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>no need for <strong>separate</strong> mouse <strong>or</strong> touch code to get x / y coords</p>
</div>
</div></section>

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events <mark>extend</mark> Mouse Events */

foo.addEventListener('<mark>pointermove</mark>', function(e) {
	...
	posX = <mark>e.clientX</mark>;
	posY = <mark>e.clientY</mark>;
	...
}, false);</code></pre>
	<p><a target=_blank href="http://www.w3.org/TR/pointerevents/#pointerevent-interface">www.w3.org/TR/pointerevents/#pointerevent-interface</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/codepen-3drotator-mouse-only.png" alt="">
	<p><a target=_blank href="http://codepen.io/CreativePunch/full/sucHI/">3D Rotator by Creative Punch</a></p><p><small>coded to only use mouse events</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win8/codepen-3drotator-mouse-pointerevents.png" alt="">
	<p><a target=_blank href="http://codepen.io/patrickhlauke/full/dzLcn/">3D Rotator modified to use Pointer Events</a></p><p><small>minimal code changes, as Pointer Events extend mouse events</small></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>but you can <strong>distinguish</strong><br>mouse <strong>or</strong> touch <strong>or</strong> stylus</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">foo.addEventListener('pointermove', function(e) {
    ...
    switch(<mark>e.pointerType</mark>) {
        case '<mark>mouse</mark>':
              ...
              break;
        case '<mark>pen</mark>':
              ...
              break;
        case '<mark>touch</mark>':
              ...
              break;
        <mark>default</mark>: /* future-proof */
    }
    ...
} , false);</code></pre>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">
/* in IE11/Edge, <mark>pointerType</mark> returns a <mark>string</mark>
   in IE10, the return type is <mark>long</mark> */

MSPOINTER_TYPE_TOUCH: 0x00000002
MSPOINTER_TYPE_PEN:   0x00000003
MSPOINTER_TYPE_MOUSE: 0x00000004</code></pre>
	<p><a target=_blank href="http://msdn.microsoft.com/en-gb/library/ie/hh772359(v=vs.85).aspx">MSDN: IE Dev Center - API reference - pointerType property</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>what about <strong>multitouch?</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* PointerEvents <mark>don't</mark> have the handy TouchList objects,
   so we have to replicate something similar... */

var points = [];
switch (e.type) {
    case '<mark>pointerdown</mark>':
          /* add to the array */
          break;
    case '<mark>pointermove</mark>':
          /* update the relevant array entry's x and y */
          break;
    case '<mark>pointerup</mark>':
          /* remove the relevant array entry */
          break;
}</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-multitouch-mouse-touch.png" alt="Multiple pointers can be primary - first finger on a touchscreen and mouse used simultaneously">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer.html">patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer.html</a></p><small>(note multiple <code>isPrimary</code> pointers)</small></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>simultaneous use of inputs is hardware-dependent<br><small>(e.g. Surface 3 "palm blocking" prevents concurrent touch/stylus/mouse, but not<br>touch/external mouse/external stylus)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/surface-pen-and-wacom-stylus-ms-edge.jpg" alt="">
	<p><a target=_blank href="https://www.youtube.com/watch?v=gRWbmAGh8Q0">YouTube: Pointer Events support multiple stylus/pen inputs simultaneously</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* like iOS/Safari, IE/Win has <mark>higher-level gestures</mark>,
   but these are <mark>not part of the W3C Pointer Events</mark> spec.

   Replicate these from basic principles again... */</code></pre>
   <p><a target=_blank href="http://msdn.microsoft.com/en-gb/library/ie/hh673557(v=vs.85).aspx#Gesture_object_events">MSDN IE10 Developer Guide: Gesture object and events</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>extended <strong>capabilities</strong><br><small>(if supported by hardware)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events - pressure*/

interface PointerEvent : MouseEvent {
    readonly attribute long pointerId;
    readonly attribute long width;
    readonly attribute long height;
    readonly attribute float <mark>pressure</mark>;
    readonly attribute long tiltX;
    readonly attribute long tiltY;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}
</code></pre>
<p><code>pressure</code>: value in range [0,1]. if no hardware support,<br>0.5 in active button state, 0 otherwise</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/surface-ms-edge-stylus-hover-pressure.jpg" alt="">
	<p><a target=_blank href="http://patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer.html">patrickhlauke.github.io/touch/tracker/...</a></p>
	<p><a target=_blank href="https://www.youtube.com/watch?v=5c7eT3ixbFM">YouTube: Touch tracker with Surface 3 pen</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h2>hovering stylus</h2>
	<ul>
	<li>hardware-dependant</li>
	<li><code>pointermove</code> fires</li>
	<li><code>pressure == 0</code> (non-active button state)
	<li>track <code>pointerdown</code>/<code>pointerup</code> to be safe</li>
	</li>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Pointer Events - tilt */

interface PointerEvent : MouseEvent {
    readonly attribute long pointerId;
    readonly attribute long width;
    readonly attribute long height;
    readonly attribute float pressure;
    readonly attribute long <mark>tiltX</mark>;
    readonly attribute long <mark>tiltY</mark>;
    readonly attribute DOMString pointerType;
    readonly attribute boolean isPrimary;
}
</code></pre>
	<p><code>tiltX</code>/<code>tiltY</code>: value in degrees [-90, 90].<br>returns 0 if hardware does not support tilt</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-pen-tracker.png" alt="">
	<p><a target=_blank href="http://patrickhlauke.github.io/touch/pen-tracker/">patrickhlauke.github.io/touch/pen-tracker</a></p>
	<p><a target=_blank href="https://www.youtube.com/watch?v=1VlQzagF8PA">YouTube: ...pen with tilt, pressure and hover support</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><code>pointermove</code> fires if <code>tiltX</code>, <code>tiltY</code> or <code>pressure</code> change<br><small>(even if x/y position doesn't...)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p>pointer events as the <strong>future</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/chromium-issue162757-implement-pointer-events-WONTFIX.png" alt="">
	<p><a target=_blank href="https://code.google.com/p/chromium/issues/detail?id=162757"><strike>Issue 162757: Implement pointer events in Chrome behind experimental flag</strike> <strong>WontFix</strong></a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/chrome-devrel-youtube-pointer-events.png" alt="">
	<p><a target=_blank href="https://www.youtube.com/watch?v=ngBy0H_q-GY">YouTube: Google Developers - HTTP 203: Pointer Events</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ol>
	<li>performance issues (hit-testing)</li>
	<li>unified event model not "mobile first"</li>
	<li>difficult to implement "pull to refresh"</li>
	<li>we already have touch events</li>
	</ol>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ol>
	<li>performance issues (hit-testing)</li>
	<li>unified event model not "mobile first"</li>
	<li>difficult to implement "pull to refresh"</li>
	<li>we already have touch events</li>
	<li><strong>Apple won't implement them...</strong></li>
	</ol>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>Google working instead to <strong>expand Touch Events</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/chromium-issue404128-extend-touch-api-to-power-of-pointerevents.png" alt="">
	<p><a target=_blank href="https://code.google.com/p/chromium/issues/detail?id=404128">Issue 404128: Meta: Extend TouchEvent API to have the power of PointerEvents...</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-touch-events-extensions.png" alt="">
	<p><a target=_blank href="https://dvcs.w3.org/hg/webevents/raw-file/default/touchevents.html">W3C Touch Events Extensions WG Note</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* extension to touch objects */

partial interface Touch {
  readonly  attribute float radiusX;
  readonly  attribute float radiusY;
  readonly  attribute float rotationAngle;
  readonly  attribute float force;
};</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/developers-google-rotationangle-touchradius.png" alt="">
	<p><a target=_blank href="https://developers.google.com/web/updates/2015/07/using-rotationAngle-and-touchRadius">Google Developers: Using rotationAngle and touchRadius</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/rbyers-net-paint-rotationangle-touchradius.png" alt="">
	<p><a href="http://rbyers.github.io/paint.html">Rick Byers - Paint (with rotationAngle and touchRadius)</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/developers-google-precision-touch-for-precise-gestures.png" alt="">
	<p><a target=_blank href="https://developers.google.com/web/updates/2014/09/Precision-Touch-for-Precise-Gestures">Google Developers: Precision Touch for Precise Gestures</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/webkit-bugzilla-fractional-touch-coordinates.png" alt="">
	<p><a target=_blank href="https://bugs.webkit.org/show_bug.cgi?id=133180">Bug 133180 - Consider exposing fractional Touch co-ordinates</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">interface Touch {
    readonly attribute long identifier;
    readonly attribute EventTarget target;
    readonly attribute <mark><strike>long</strike> float</mark> screenX;
    readonly attribute <mark><strike>long</strike> float</mark> screenY;
    readonly attribute <mark><strike>long</strike> float</mark> clientX;
    readonly attribute <mark><strike>long</strike> float</mark> clientY;
    readonly attribute <mark><strike>long</strike> float</mark> pageX;
    readonly attribute <mark><strike>long</strike> float</mark> pageY;
};</code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-touch-events-community-group.png" alt="">
	<p><a target=_blank href="http://www.w3.org/community/touchevents">W3C Touch Events Community Group</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-touch-events-level2-editors-draft.png" alt="">
	<p><a target=_blank href="http://w3c.github.io/touch-events/">W3C Touch Events - Level 2 (Editor's Draft)</a></p>
	<p>(merges errata, touch events extensions, fractional touch coordinates)</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>following developer outcry, Google reconsidered support for Pointer Events...</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/chrome-canary-pointer-events.png" alt="">
	<p>Chrome Canary (currently 47.0.2504.0) has rough experimental support for Pointer Events (for desktop w/touch only)</p>
	<p><code>chrome.exe --enable-blink-features=PointerEvent</code></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-pointer-events-level2-editors-draft.png" alt="">
	<p>work now continues to enhance/expand Pointer Events...</p>
	<p><a target=_blank href="https://w3c.github.io/pointerevents/">W3C Pointer Events - Level 2 (Editor's Draft)</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p><strong>touch events</strong> in <strong>IE/Edge</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/ieblog-mobile-web-should-just-work.png" alt="">
	<p><a target=_blank href="http://blogs.msdn.com/b/ie/archive/2014/07/31/the-mobile-web-should-just-work-for-everyone.aspx">MSDN IEBlog: The Mobile Web should just work for everyone</a></p><p><small>Windows Phone 8.1 Update now supports Pointer Events <strong>and</strong> Touch Events</small></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>"frankensteining"<br><strong>pointer</strong> and <strong>touch</strong> events</p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="json">touchstart > [touchmove]+ > touchend >
<mark>[300ms delay]</mark> >
mouseover > mousemove > mousedown > mouseup > click</code></pre>
vs
<pre><code class="json">pointerover > mouseover > pointerdown > mousedown >
pointermove > mousemove > pointerup > mouseup >
<mark>[300ms delay]</mark> > click >
pointerout > mouseout > pointerleave > mouseleave</code></pre>
</div></section>


<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/wp8-preview-for-developers.png" alt="Windows Phone 8.1 Preview for Developers">
	<p><a target=_blank href="https://dev.windows.com/en-us/develop/devpreview">Windows Dev Center: Get the Windows Phone Developer Preview</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/winphone8/ie11-8.1u1-pointer-and-touch.png" alt="IE11/Windows Phone 8.1 Update 1 fires Pointer Events *and* Touch Events">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>events fired on tap (IE11)</h2>
<pre><code class="json">mousemove* > pointerover > mouseover >
pointerenter > mouseenter > pointerdown >
<mark>touchstart</mark> > 
mousedown > <em>gotpointercapture</em> > focus >
pointermove > <mark>touchmove</mark> > mousemove >
pointerup >
<mark>touchend</mark> >
mouseup > <em>lostpointercapture</em> > pointerout > mouseout >
pointerleave > mouseleave >
click</code></pre>
	<p>IE11/Windows Phone 8.1u1<br>with "frankensteined" Pointer/Touch Events support<br><small>(but <strong>not</strong> on desktop)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10mobile/win10-windows-insider.png" alt="Windows 10 Mobile Insider">
	<p><a target=_blank href="http://windows.microsoft.com/en-gb/windows/preview-download-phone">Windows Mobile Insider Preview</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10mobile/win10mobile-edge-pointer-touch.png" alt="Windows 10 Mobile / Edge fires Pointer Events *and* Touch Events">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/tests/event-listener.html">patrickhlauke.github.io/touch/tests/event-listener.html</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
	<h2>events fired on tap (Microsoft Edge)</h2>
<pre><code class="json">pointerover > pointerenter > pointerdown >
<mark>touchstart</mark> > 
<em>gotpointercapture</em> 
pointermove > <mark>touchmove</mark> > pointerup >
<mark>touchend</mark> >
mouseover > mouseenter > mousemove > mousedown >
focus >
mouseup > click > 
<em>lostpointercapture</em> >
pointerout > pointerleave</code></pre>
	<p>Microsoft Edge/Windows 10 Mobile closer to touch events<br>(note grouped mouse compatibility events)</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>touch events <strong>only turned on for mobile</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/list-w3c-jacob-rossi-enabling-touch-events-everywhere.png" alt="Hightlighted email text: In testing the top 100 sites, we found 10 sites with broken mouse functionality when Touch Events is exposed">
	<p><a target=_blank href="http://lists.w3.org/Archives/Public/public-touchevents/2014Sep/0010.html">W3C Touch Events WG mailing list<br>Jacob Rossi - Enabling Touch Events everywhere</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/win10/ms-edge-about-flags-touch.png" alt="">
	<p><code>about:flags</code> in Microsoft Edge to turn on touch events on desktop (e.g. touch-enabled laptops)</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p><strong>transitional</strong> event handling<br>
	<small>(until all browsers support pointer events)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* cover all cases (hat-tip Stu Cox) */

if ('onpointerdown' in window) {

    /* bind to Pointer Events: pointerdown, pointerup, etc */

} else {

    /* bind to mouse events: mousedown, mouseup, etc */

    if ('ontouchstart' in window) {
        /* bind to Touch Events: touchstart, touchend, etc */
    }
}

/* bind to keyboard / click  */</code></pre>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p><strong>polyfills</strong> for pointer events<br>
	<small>(code for tomorrow, today)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/handjs-codeplex.png" alt="">
	<p><a target=_blank href="http://handjs.codeplex.com">HandJS</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/polymer.png" alt="Building blocks for the web. Polymer is a library that uses the latest web technologies to let you create custom HTML elements. Build anything from a button to a complete application as an encapsulated, reusable element that works across desktop and mobile.">
	<p><a target=_blank href="http://www.polymer-project.org">Polymer</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/github-polymer-pointer-events.png" alt="">
	<p><a target=_blank href="https://github.com/Polymer/PointerEvents">GitHub - Polymer/PointerEvents</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/github-polymer-pointer-events-deprecated.png" alt="">
	<p><a target=_blank href="https://github.com/Polymer/PointerEvents#this-repo-is-deprecated">GitHub - Polymer/PointerEvents <strong>deprecated</strong></a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/blog-jquery-pep-announcement.png" alt="">
	<p><a target=_blank href="http://blog.jquery.com/2014/12/17/improving-the-pointer-events-polyfill/">jQuery blog - Improving the Pointer Events Polyfill</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/github-jquery-pep.png" alt="">
	<p><a target=_blank href="https://github.com/jquery/PEP">GitHub - jQuery Pointer Events Polyfill (PEP)</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="html">/* adding jQuery PEP */

&lt;script src="https://code.jquery.com/pep/0.3.0/pep.js">&lt;/script>

/* need to use custom touch-action attribute, not CSS (yet) */

&lt;button <mark>touch-action="none"</mark>>...&lt;/div></code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios8/safari-pep.png" alt="A pointer events demo running in iOS/Safari thanks to PEP">
	<p><a target=_blank href="http://jsbin.com/xemixu/2/edit?html,js,output">Alex Schmitz' PEP demo</strong></a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p><strong>utility</strong> libraries<br>
	<small>(because life is too short to hand-code gesture support)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/hammer.js.png" alt="">
	<p><a target=_blank href="http://eightmedia.github.io/hammer.js">Hammer.js</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/hammer.js2.png" alt="">
	<p><a target=_blank href="http://eightmedia.github.io/hammer.js">Hammer.js</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<pre><code class="js">/* Hammer's high-level events example */

var element = document.getElementById('test_el');

<mark>var hammertime = new Hammer(element);</mark>

<mark>hammertime.on("swipe",
  function(event) {
    /* handle horizontal swipes */
});</mark></code></pre>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/ios8/swipe-hammerjs.png" alt="">
	<p><a target=_blank href="https://patrickhlauke.github.io/touch/hammer/swipe/">patrickhlauke.github.io/touch/hammer/swipe</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<p><strong>further</strong> reading...</p>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://blog.gauntface.co.uk/2013/06/25/touch-feedback-for-mobile-sites/">Matt Gaunt – Touch Feedback for Mobile Sites</a></li>
<li><a target=_blank href="https://github.com/jonathanstark/FastActive ">Jonathan Stark – FastActive</a></li>
<li><a target=_blank href="http://www.slideshare.net/ysaw/html5-touch-interfaces-sxsw-extended-version">Stephen Woods – HTML5 Touch Interfaces</a></li>
<li><a target=_blank href="https://www.youtube.com/watch?v=lcD9CF0bxyk">YouTube: Stephen Woods – Responsive HTML5 Touch Interfaces</a></li>
<li><a target=_blank href="http://www.html5rocks.com/en/mobile/touchandmouse/">Chris Wilson + Paul Kinlan – Touch And Mouse: Together Again For The First Time</a></li>
<li><a target=_blank href="https://developers.google.com/mobile/articles/fast_buttons">Ryan Fioravanti – Creating Fast Buttons for Mobile Web Applications</a></li>
<li><a target=_blank href="http://www.html5rocks.com/en/mobile/touch/">Boris Smus – Multi-touch Web Development</a></li>
<li><a target=_blank href="http://smus.com/mouse-touch-pointer/">Boris Smus – Generalized input on the cross-device web</a></li>
<li><a target=_blank href="http://smus.com/touch-laptop-experiments/">Boris Smus – Interactive touch laptop experiments</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="https://developers.google.com/events/io/sessions/361772634">Rick Byers + Boris Smus (Google I/O) – Point, Click, Tap, Touch - Building Multi-Device Web Interfaces</a></li>
<li><a target=_blank href="http://www.w3.org/conf/2011/#Touch_Events">Grant Goodale – Touch Events</a></li>
<li><a target=_blank href="http://www.w3.org/TR/2013/NOTE-touch-events-extensions-20131031/">W3C – Touch Events Extensions</a></li>
<li><a target=_blank href="https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Touch_events">Mozilla Developer Network – Touch Events</a></li>
<li><a target=_blank href="http://docs.webplatform.org/wiki/concepts/Pointer_Events">WebPlatform.org – Pointer Events</a></li>
<li><a target=_blank href="https://plus.google.com/+RickByers/posts/ej7nsuoaaDa">Rick Byers – The best way to avoid the dreaded 300ms click delay is to disable double-tap zoom</a></li>
<li><a target=_blank href="https://code.google.com/p/chromium/issues/detail?id=152149">Chromium Issue 152149: All touch-event related APIs should exist if touch support is enabled at runtime</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://timkadlec.com/2013/11/Avoiding-the-300ms-click-delay-accessibly/">Tim Kadlec – Avoiding the 300ms Click Delay, Accessibly</a></li>
<li><a target=_blank href="http://blogs.msdn.com/b/davrous/archive/2013/02/20/handling-touch-in-your-html5-apps-thanks-to-the-pointer-events-of-ie10-and-windows-8.aspx">David Rousset - Unifying touch and mouse [...]</a></li>
<li><a target=_blank href="http://msdn.microsoft.com/en-us/library/ie/dn304886(v=vs.85).aspx">Microsoft – Pointer events updates (differences between IE10-IE11)</a></li>
<li><a target=_blank href="http://webkrauts.de/artikel/2012/einfuehrung-touch-events">Patrick H. Lauke – Webseiten zum Anfassen</a></li>
<li><a target=_blank href="http://webkrauts.de/artikel/2013/drei-unter-einem-dach">Patrick H. Lauke – Drei unter einem Dach: Pointer-Events für Maus, Stylus und Touchscreen</a></li>
<li><a target=_blank href="http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644">Patrick H. Lauke – Make your site work on touch devices</a></li>
<li><a target=_blank href="http://www.stucox.com/blog/you-cant-detect-a-touchscreen/">Stu Cox – You can't detect a touchscreen</a></li>
<li><a target=_blank href="https://speakerdeck.com/tilomitra/the-state-of-gestures">Tilo Mitra – The State of Gestures</a></li>
<li><a target=_blank href="https://www.youtube.com/watch?v=3vZiKThHv4Q">YouTube: Tilo Mitra (YUI) – The State of Gestures</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://msdn.microsoft.com/en-us/library/ie/dn265029(v=vs.85).aspx">Microsoft – Hover touch support (IE10/IE11)</a></li>
<li><a target=_blank href="http://dev.w3.org/csswg/mediaqueries4/#pointer">W3C Media Queries Level 4 – pointer</a></li>
<li><a target=_blank href="http://www.stucox.com/blog/the-good-and-bad-of-level-4-media-queries/">Stu Cox – The Good &amp; Bad of Level 4 Media Queries</a></li>
<li><a target=_blank href="http://www.quirksmode.org/mobile/tableTouch.html">Peter-Paul Koch – Touch table</a></li>
<li><a target=_blank href="http://www.quirksmode.org/mobile/default.html">Peter-Paul Koch – Preventing the touch default</a></li>
<li><a target=_blank href="http://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html">Peter-Paul Koch – Mouse event bubbling in iOS</a></li>
<li><a target=_blank href="https://www.youtube.com/watch?v=zxuA-wyajhY">YouTube: Edge Conference (Feb 2013 London) – Panel: Input</a></li>
<li><a target=_blank href="http://edgeconf.com/2014-london?v=lRY8jHmiIIw#videos">Edge Conference (Mar 2014 London) – Panel: Pointers and Interactions</a></li>
<li><a target=_blank href="http://trentwalton.com/2014/03/10/device-agnostic/">Trent Walton – Device-Agnostic</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://www.stucox.com/blog/the-golden-pattern-for-handling-touch-input/">Stu Cox – The Golden Pattern for Handling Touch Input</a></li>
<li><a target=_blank href="http://blog.gauntface.co.uk/2013/12/09/focusing-on-the-web-today/">Matt Gaunt – ‘Focusing’ on the Web Today</a></li>
<li><a target=_blank href="http://blog.mobiscroll.com/working-with-touch-events/">Mobiscroll – Working with touch events</a></li>
<li><a target=_blank href="http://www.quirksmode.org/blog/archives/2014/02/the_ios_event_c.html">Peter-Paul Koch – The iOS event cascade and innerHTML</a></li>
<li><a target=_blank href="http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644">Patrick H. Lauke – Make your site work on touch devices</a></li>
<li><a target=_blank href="http://www.filamentgroup.com/lab/tappy.html">Scott Jehl (Filament Group) – Tappy: A custom tap event handler</a></li>
<li><a target=_blank href="https://plus.google.com/+YehudaKatz/posts/PBxtaphMDGJ">Yehuda Katz – Touch events on the web are fundamentally unfinished ...</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://webreflection.blogspot.co.uk/2014/08/pointerevents-no-more.html">Andrea Giammarchi – PointerEvents No More</a></li>
<li><a target=_blank href="https://developers.google.com/web/fundamentals/input/touch/activestates/">Google Developers – Web Fundamentals: Stateful Elements Respond to Touch</a></li>
<li><a target=_blank href="https://www.youtube.com/watch?v=Rwc4fHUnGuU">YouTube: Matt Gaunt (Google) - Touch in a Web App? No Problem</a></li>
<li><a target=_blank href="http://www.lukew.com/ff/entry.asp?1877">Luke Wroblewski – How to Communicate Hidden Gestures</a></li>
<li><a target=_blank href="http://dwcares.com/custom-touch-interactions/">David Washington - Designing custom touch interactions</a></li>
<li><a target=_blank href="http://dwcares.com/pull-to-refresh-2/">David Washington - Building pull-to-refresh</a></li>
<li><a target=_blank href="http://apeatling.com/2014/javascript-pull-to-refresh-web/">Andy Peatling - JavaScript Pull to Refresh for the Web</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://htmlcssjavascript.com/web/the-uncertain-web-pointer-event-polyfill-and-chrome-fragmentation/">Rob Larsen - The Uncertain Web: Pointer Event Polyfill and Chrome Fragmentation</a></li>
<li><a target=_blank href="http://www.incobs.de/articles/items/implications-of-new-input-modes-touch-speech-gestures-on-the-web-content-accessibility-guidelines.html">Detlev Fisher - Implications of new input modes (touch, speech, gestures) for the Web Content Accessibility Guidelines</a></li>
<li><a target=_blank href="http://iamralpht.github.io/constraints/">Ralph Thomas - Towards declarative touch interactions</a></li>
<li><a target=_blank href="https://msdn.microsoft.com/en-us/library/windows/desktop/dn742463(v=vs.85).aspx">Windows Dev Center: Windows desktop applications > Guidelines > Interaction (touch, keyboard, mouse, pen)</a></li>
<li><a target=_blank href="https://msopentech.com/blog/2014/12/17/jquery-adopts-pointer-events/">Microsoft Open Technologies - jQuery Adopts Pointer Events</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
<ul>
<li><a target=_blank href="http://blog.jquery.com/2015/02/24/getting-on-point/">jQuery blog - Getting on Point</a></li>
<li><a target=_blank href="http://blogs.msdn.com/b/ie/archive/2015/02/24/pointer-events-w3c-recommendation-interoperable-touch-and-removing-the-dreaded-300ms-tap-delay.aspx">IEBlog - Pointer Events W3C Recommendation, Interoperable Touch, and Removing the Dreaded 300ms Tap Delay</a></li>
<li><a target=_blank href="https://msopentech.com/blog/2015/02/24/pointer-events-w3c-standard/">Microsoft Open Technologies - Pointer Events is now a W3C Standard</a></li>
<li><a target=_blank href="http://www.paciellogroup.com/blog/2015/02/pointer-events-advance-to-w3c-recommendation/">Patrick H. Lauke (The Paciello Group) - Pointer Events advance to W3C Recommendation</a></li>
<li><a target=_blank href="https://speakerdeck.com/jacobrossi/the-input-shouldnt-matter-building-for-adaptive-input-experiences">Jacob Rossi - The Input Shouldn't Matter</a></li>
</ul>
</div></section>

<!-- -->

<section class="slide" id="yougotthetouch"><div>
	<img src="pictures/backgrounds/you-got-the-touch.jpg" alt="">
	<p><a target=_blank href="https://www.youtube.com/watch?v=AZKpByV5764">youtube.com/watch?v=AZKpByV5764</a></p>
	<style>
		#yougotthetouch.slide { background: #000;}
	</style>
</div></section>

<!-- -->

<section class="slide"><div>
	<h2>get in touch</h2>
	<p><a target=_blank href="https://twitter.com/patrick_h_lauke">@patrick_h_lauke</a><br>
	<a target=_blank href="http://github.com/patrickhlauke/touch">github.com/patrickhlauke/touch</a><br>
	<a target=_blank href="https://patrickhlauke.github.io/getting-touchy-presentation/">patrickhlauke.github.io/getting-touchy-presentation</a><br>
	<a target=_blank href="http://www.slideshare.net/redux">slideshare.net/redux</a><br>
	<a target=_blank href="http://www.paciellogroup.com">paciellogroup.com</a><br>
	<a target=_blank href="http://www.splintered.co.uk">splintered.co.uk</a><p>
	<p><img src="pictures/cc-by-nc-sa.png" alt="Creative Commons: Attribution Non-Commercial Share-Alike"></p>
</div></section>

	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"><div></div></div>
	<script src="shower/shower.min.js"></script>
</body>
</html>